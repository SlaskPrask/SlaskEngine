<html>
	
<head>
	<title>Reading inputs</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="generator" content="HelpNDoc Personal Edition 4.9.2.132">
	<meta name="keywords" content="">
	
	<link type="text/css" rel="stylesheet" media="all" href="css/reset.css" />
	<link type="text/css" rel="stylesheet" media="all" href="css/base.css" />
	<link type="text/css" rel="stylesheet" media="all" href="css/hnd.css" />
	<!--[if lte IE 8]>
		<link type="text/css" rel="stylesheet" media="all" href="css/ielte8.css" />
	<![endif]-->
	<style type="text/css">
		#topic_header
		{
			background-color: #EFEFEF;
		}
	</style>
	<script type="text/javascript" src="js/jquery.min.js"></script>
	<script type="text/javascript" src="js/hnd.js"></script>
	<script type="text/javascript">
		$(document).ready(function()
		{
			if (top.frames.length == 0)
			{
				var sTopicUrl = top.location.href.substring(top.location.href.lastIndexOf("/") + 1, top.location.href.length);
				top.location.href = "SlaskEngine API Documentation.html?" + sTopicUrl;
			}
			else
			{
				var bTocSelected = false;
				(function waitForTOC()
				{
					if (top && top.FrameTOC && top.FrameTOC.SelectTocItem)
					{
						top.FrameTOC.SelectTocItem("Readinginputs");
						bTocSelected = true;
					}
					if (!bTocSelected) setTimeout(function() { waitForTOC(); }, 300);
				})();
			}
		});
	</script>
	
	</head>

<body>

<div id="topic_header">
			<div id="topic_header_content">
				<h1 id="topic_header_text">Reading inputs</h1>
				
				<div id="topic_breadcrumb">
					<a href="AvailableFunctions.html">Available Functions</a> &rsaquo;&rsaquo; <a href="Inputhandling.html">Input handling</a> &rsaquo;&rsaquo; </div>
				</div>
			<div id="topic_header_nav">
				<a href="Inputhandling.html"><img src="img/arrow_up.png" alt="Parent"/></a>
				
				<a href="Inputhandling.html"><img src="img/arrow_left.png" alt="Previous"/></a>
				
				<a href="Keyboardkeynames.html"><img src="img/arrow_right.png" alt="Next"/></a>
				
				</div>
			<div class="clear"></div>
		</div>
	<div id="topic_content">
		
<p></p>
<p class="rvps2"><span class="rvts19">Reading inputs</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts25">Reading the keyboard</span></p>
<p class="rvps2"><span class="rvts20">bool getKeyPress(int keycode);</span></p>
<p class="rvps5"><span class="rvts6">Returns whether this key was pressed down on the current frame.</span></p>
<p class="rvps5"><span class="rvts6"><br/></span></p>
<p class="rvps5"><span class="rvts6">Generated errors:</span></p>
<p class="rvps5"><span class="rvts22">Reading key </span><span class="rvts24">keycode</span><span class="rvts22"> out of range.</span></p>
<p class="rvps6"><span class="rvts6">The given keycode is not a recognized key.</span></p>
<p class="rvps2"><span class="rvts26"><br/></span></p>
<p class="rvps2"><span class="rvts20">bool getKeyRelease(int keycode);</span></p>
<p class="rvps5"><span class="rvts6">Returns whether this key was released on the current frame.</span></p>
<p class="rvps5"><span class="rvts6"><br/></span></p>
<p class="rvps5"><span class="rvts6">Generated errors:</span></p>
<p class="rvps5"><span class="rvts22">Reading key </span><span class="rvts24">keycode</span><span class="rvts22"> out of range.</span></p>
<p class="rvps6"><span class="rvts6">The given keycode is not a recognized key.</span></p>
<p class="rvps2"><span class="rvts26"><br/></span></p>
<p class="rvps2"><span class="rvts20">bool getKeyHeld(int keycode);</span></p>
<p class="rvps2"><span class="rvts20">bool getKey(int keycode);</span></p>
<p class="rvps5"><span class="rvts6">Returns whether this key is currently held down.</span></p>
<p class="rvps5"><span class="rvts6">This returns true on the frame the key was pressed down the same as </span><span class="rvts18">getKeyPress()</span><span class="rvts6"> but also on the frames after that until it is released.</span></p>
<p class="rvps5"><span class="rvts6"><br/></span></p>
<p class="rvps5"><span class="rvts6">Generated errors:</span></p>
<p class="rvps5"><span class="rvts22">Reading key </span><span class="rvts24">keycode</span><span class="rvts22"> out of range.</span></p>
<p class="rvps6"><span class="rvts6">The given keycode is not a recognized key.</span></p>
<p class="rvps2"><span class="rvts26"><br/></span></p>
<p class="rvps2"><span class="rvts20">bool getKeyIdle(int keycode);</span></p>
<p class="rvps5"><span class="rvts6">Returns whether this key is not being held down.</span></p>
<p class="rvps5"><span class="rvts6">This returns true on the frame the key was released the same as </span><span class="rvts18">getKeyRelease()</span><span class="rvts6"> but also on the frames after that until it is pressed down.</span></p>
<p class="rvps5"><span class="rvts6"><br/></span></p>
<p class="rvps5"><span class="rvts6">Generated errors:</span></p>
<p class="rvps5"><span class="rvts22">Reading key </span><span class="rvts24">keycode</span><span class="rvts22"> out of range.</span></p>
<p class="rvps6"><span class="rvts6">The given keycode is not a recognized key.</span></p>
<p class="rvps2"><span class="rvts26"><br/></span></p>
<p class="rvps2"><span class="rvts20">bool getKeyPressAny();</span></p>
<p class="rvps5"><span class="rvts6">Returns any new key was pressed down on this frame.</span></p>
<p class="rvps2"><span class="rvts26"><br/></span></p>
<p class="rvps2"><span class="rvts20">bool getKeyReleaseAny();</span></p>
<p class="rvps5"><span class="rvts6">Returns any new key was released on this frame.</span></p>
<p class="rvps2"><span class="rvts26"><br/></span></p>
<p class="rvps2"><span class="rvts20">bool getKeyHeldAny();</span></p>
<p class="rvps2"><span class="rvts20">bool getKeyAny();</span></p>
<p class="rvps5"><span class="rvts6">Returns any keys are being held down on pressed down on this frame.</span></p>
<p class="rvps2"><span class="rvts26"><br/></span></p>
<p class="rvps2"><span class="rvts20">bool getKeyIdleAny();</span></p>
<p class="rvps5"><span class="rvts6">Returns whether no key is pressed down at all.</span></p>
<p class="rvps5"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts27">Reserving keyboard inputs</span></p>
<p class="rvps2"><span class="rvts6">Sometimes you want only one object to receive inputs. Once an object has handled your keys you can deny all other objects this information with clearing functions. After calling a clear the input appears idle to everyone else on that frame.</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts20">void clearKey(int keycode);</span></p>
<p class="rvps5"><span class="rvts6">Clears the given key's state for the rest of this frame as idle. Can be used when you want only one object to receive the key's state.</span></p>
<p class="rvps5"><span class="rvts6"><br/></span></p>
<p class="rvps5"><span class="rvts6">Generated errors:</span></p>
<p class="rvps5"><span class="rvts22">Clearing key </span><span class="rvts24">keycode</span><span class="rvts22"> out of range.</span></p>
<p class="rvps6"><span class="rvts6">The given key, keycode, is not a recognized key.</span></p>
<p class="rvps2"><span class="rvts25"><br/></span></p>
<div class="rvps2"><table width="100%" border="1" cellpadding="1" cellspacing="2" style="border-color: #000000; border-style: solid; border-spacing: 2px;">
<tr valign="top">
<td style="border-color: #000000; border-style: solid; padding: 1px;"><p class="rvps2"><span class="rvts18"><br/></span></p>
<p class="rvps2"><span class="rvts21">void GameHandler::run()</span></p>
<p class="rvps2"><span class="rvts18">{</span></p>
<p class="rvps2"><span class="rvts21"> &nbsp; &nbsp;if (getKeyPress(Key::Escape))</span></p>
<p class="rvps2"><span class="rvts18"> &nbsp; &nbsp;{</span></p>
<p class="rvps2"><span class="rvts18"> &nbsp; &nbsp; &nbsp; &nbsp;/*mark the key as read and accepted so</span></p>
<p class="rvps2"><span class="rvts18"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;other objects such as our unpausing object</span></p>
<p class="rvps2"><span class="rvts18"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; won't get it's press*/</span></p>
<p class="rvps2"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp;clearKey(Key::Escape);</span></p>
<p class="rvps2"><span class="rvts18"> &nbsp; &nbsp; &nbsp; &nbsp;pauseGame();</span></p>
<p class="rvps2"><span class="rvts18"> &nbsp; &nbsp;}</span><br/><span class="rvts18">}</span></p>
<p class="rvps2"><span class="rvts18"><br/></span></p>
</td>
</tr>
</table>
</div>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts20">void clearKeyAny();</span></p>
<p class="rvps5"><span class="rvts6">Clears the any key inputs. This does not clear all individual keys.</span></p>
<p class="rvps5"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts27">Reading keyboard text input</span></p>
<p class="rvps2"><span class="rvts6">The engine stores the current text input</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts20">void keyboardTextBuffer(char *str,bool newlines=0);</span></p>
<p class="rvps2"><span class="rvts20">void keyboardTextBuffer(std::string *str,bool newlines=0);</span></p>
<p class="rvps5"><span class="rvts6">Applies keyboard inputs to the given string.</span></p>
<p class="rvps5"><span class="rvts6">The string should contain any previously obtained input already.</span></p>
<p class="rvps5"><span class="rvts18">newlines</span><span class="rvts6"> determines whether the enter key is allowed to enter a new line in the string, otherwise it is ignored. Usually you want only one line of text like for entering a name and rarely want a block of text to be entered.</span></p>
<p class="rvps5"><span class="rvts6"><br/></span></p>
<div class="rvps2"><table width="100%" border="1" cellpadding="1" cellspacing="2" style="border-color: #000000; border-style: solid; border-spacing: 2px;">
<tr valign="top">
<td style="border-color: #000000; border-style: solid; padding: 1px;"><p class="rvps2"><span class="rvts18"><br/></span></p>
<p class="rvps2"><span class="rvts21">#include &lt;slask.h&gt;</span></p>
<p class="rvps2"><span class="rvts21"><br/></span></p>
<p class="rvps2"><span class="rvts21">using namespace slask;</span></p>
<p class="rvps2"><span class="rvts21"><br/></span></p>
<p class="rvps2"><span class="rvts21">class TextBox:public Object</span></p>
<p class="rvps2"><span class="rvts18">{</span></p>
<p class="rvps2"><span class="rvts21"> &nbsp; &nbsp;SLASKOBJECT</span></p>
<p class="rvps2"><span class="rvts21"> &nbsp; &nbsp;</span></p>
<p class="rvps2"><span class="rvts18"> &nbsp; &nbsp;private:</span></p>
<p class="rvps2"><span class="rvts18"> &nbsp; &nbsp;std::string input;</span></p>
<p class="rvps2"><span class="rvts18"> &nbsp; &nbsp;</span></p>
<p class="rvps2"><span class="rvts18"> &nbsp; &nbsp;public:</span></p>
<p class="rvps2"><span class="rvts21"> &nbsp; &nbsp;void run();</span></p>
<p class="rvps2"><span class="rvts21"> &nbsp; &nbsp;void draw();</span></p>
<p class="rvps2"><span class="rvts18">}</span></p>
<p class="rvps2"><span class="rvts18"><br/></span></p>
<p class="rvps2"><span class="rvts21">void TextBox::run()</span></p>
<p class="rvps2"><span class="rvts18">{</span></p>
<p class="rvps2"><span class="rvts21"> &nbsp; &nbsp;keyboardTextBuffer(&amp;input,1); &nbsp; &nbsp; //update our string with new inputs</span></p>
<p class="rvps2"><span class="rvts21"> &nbsp; &nbsp;if (getKeyPress(Key::ESCAPE)) &nbsp; &nbsp; //clear our inputs on escape</span></p>
<p class="rvps2"><span class="rvts18"> &nbsp; &nbsp;input="";</span></p>
<p class="rvps2"><span class="rvts18">}</span></p>
<p class="rvps2"><span class="rvts18"><br/></span></p>
<p class="rvps2"><span class="rvts21">void TextBox::draw()</span></p>
<p class="rvps2"><span class="rvts18">{</span></p>
<p class="rvps2"><span class="rvts21"> &nbsp; &nbsp;drawText(getFont(0,0),input,x,y,16,0,0,0,1);</span></p>
<p class="rvps2"><span class="rvts18">}</span></p>
<p class="rvps2"><span class="rvts18"><br/></span></p>
</td>
</tr>
</table>
</div>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts25">Reading the mouse</span></p>
<p class="rvps2"><span class="rvts20">double getMouseX();</span></p>
<p class="rvps5"><span class="rvts6">Returns the mouse cursor's x position in the current scene.</span></p>
<p class="rvps2"><span class="rvts26"><br/></span></p>
<p class="rvps2"><span class="rvts20">double getMouseY();</span></p>
<p class="rvps5"><span class="rvts6">Returns the mouse cursor's y position in the current scene.</span></p>
<p class="rvps2"><span class="rvts26"><br/></span></p>
<p class="rvps2"><span class="rvts20">int getMouseWindowX();</span></p>
<p class="rvps5"><span class="rvts6">Returns the mouse cursor's x position in the window.</span></p>
<p class="rvps2"><span class="rvts26"><br/></span></p>
<p class="rvps2"><span class="rvts20">int getMouseWindowY();</span></p>
<p class="rvps5"><span class="rvts6">Returns the mouse cursor's y position in the window.</span></p>
<p class="rvps2"><span class="rvts26"><br/></span></p>
<p class="rvps2"><span class="rvts20">bool getMousePress(int i);</span></p>
<p class="rvps5"><span class="rvts6">Returns whether this button was pressed down on the current frame.</span></p>
<p class="rvps5"><span class="rvts6"><br/></span></p>
<p class="rvps5"><span class="rvts6">Generated errors:</span></p>
<p class="rvps5"><span class="rvts22">Reading mouse button </span><span class="rvts24">i</span><span class="rvts22"> out of range.</span></p>
<p class="rvps6"><span class="rvts6">The given button, i, is not a recognized mouse button.</span></p>
<p class="rvps2"><span class="rvts25"><br/></span></p>
<p class="rvps2"><span class="rvts20">bool getMouseRelease(int i);</span></p>
<p class="rvps5"><span class="rvts6">Returns whether this button was released on the current frame.</span></p>
<p class="rvps5"><span class="rvts6"><br/></span></p>
<p class="rvps5"><span class="rvts6">Generated errors:</span></p>
<p class="rvps5"><span class="rvts22">Reading mouse button </span><span class="rvts24">i</span><span class="rvts22"> out of range.</span></p>
<p class="rvps6"><span class="rvts6">The given button, i, is not a recognized mouse button.</span></p>
<p class="rvps2"><span class="rvts25"><br/></span></p>
<p class="rvps2"><span class="rvts20">bool getMouseHeld(int i);</span></p>
<p class="rvps2"><span class="rvts20">bool getMouse(int i);</span></p>
<p class="rvps5"><span class="rvts6">Returns whether this button is currently held down.</span></p>
<p class="rvps5"><span class="rvts6">This returns true on the frame the mouse button was pressed down the same as </span><span class="rvts18">getMousePress()</span><span class="rvts6"> but also on the frames after that until it is released.</span></p>
<p class="rvps5"><span class="rvts6"><br/></span></p>
<p class="rvps5"><span class="rvts6">Generated errors:</span></p>
<p class="rvps5"><span class="rvts22">Reading mouse button </span><span class="rvts24">i</span><span class="rvts22"> out of range.</span></p>
<p class="rvps6"><span class="rvts6">The given button, i, is not a recognized mouse button.</span></p>
<p class="rvps2"><span class="rvts25"><br/></span></p>
<p class="rvps2"><span class="rvts20">bool getMouseIdle(int i);</span></p>
<p class="rvps5"><span class="rvts6">Returns whether this button is not being held down.</span></p>
<p class="rvps5"><span class="rvts6">This returns true on the frame the key was released the same as </span><span class="rvts18">getMouseRelease()</span><span class="rvts6"> but also on the frames after that until it is pressed down.</span></p>
<p class="rvps5"><span class="rvts6"><br/></span></p>
<p class="rvps5"><span class="rvts6">Generated errors:</span></p>
<p class="rvps5"><span class="rvts22">Reading mouse button </span><span class="rvts24">i</span><span class="rvts22"> out of range.</span></p>
<p class="rvps6"><span class="rvts6">The given button, i, is not a recognized mouse button.</span></p>
<p class="rvps2"><span class="rvts26"><br/></span></p>
<p class="rvps2"><span class="rvts20">int getMouseWheelUp();</span></p>
<p class="rvps5"><span class="rvts6">Returns how many ticks the mouse wheel moved up on this frame.</span></p>
<p class="rvps2"><span class="rvts26"><br/></span></p>
<p class="rvps2"><span class="rvts20">int getMouseWheelDown();</span></p>
<p class="rvps5"><span class="rvts6">Returns how many ticks the mouse wheel moved down on this frame.</span></p>
<p class="rvps2"><span class="rvts27">Reserving mouse inputs</span></p>
<p class="rvps2"><span class="rvts6">Mouse inputs may be reserved the same way as keyboard inputs above.</span></p>
<p class="rvps5"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts20">void clearMouse(int i);</span></p>
<p class="rvps5"><span class="rvts6">Clears the given mouse button's state for the rest of this frame as idle. Can be used when you want only one object to receive the mouse's state.</span></p>
<p class="rvps5"><span class="rvts6"><br/></span></p>
<p class="rvps5"><span class="rvts6">Generated errors:</span></p>
<p class="rvps5"><span class="rvts22">Clearing mouse button </span><span class="rvts24">i</span><span class="rvts22"> out of range.</span></p>
<p class="rvps6"><span class="rvts6">The given button, i, is not a recognized mouse button.</span></p>
<p class="rvps6"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts20">void clearMouseWheelUp();</span></p>
<p class="rvps5"><span class="rvts6">Clears the given mouse's wheel up state for the rest of this frame as idle. Can be used when you want only one object to receive the mouse's up scrolling amount.</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts20">void clearMouseWheelUp();</span></p>
<p class="rvps5"><span class="rvts6">Clears the given mouse's wheel up state for the rest of this frame as idle. Can be used when you want only one object to receive the mouse's up scrolling amount.</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts20">void clearMouseWheel();</span></p>
<p class="rvps5"><span class="rvts6">Clears the given mouse's wheel state for the rest of this frame as idle. Can be used when you want only one object to receive the mouse's wheel state.</span></p>
<p class="rvps5"><span class="rvts6">Same as calling both </span><span class="rvts18">clearMouseWheelUp()</span><span class="rvts6"> and </span><span class="rvts18">clearMouseWheelDown()</span><span class="rvts6">.</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts25">Touch input</span></p>
<p class="rvps2"><span class="rvts26"><br/></span></p>
<p class="rvps2"><span class="rvts27">Mouse to touch</span></p>
<p class="rvps2"><span class="rvts20">void enableTouchTranslation();</span></p>
<p class="rvps5"><span class="rvts6">Tells the engine to handle the mouse cursor as a touch input.</span></p>
<p class="rvps5"><span class="rvts6">Disables mouse warping on click.</span></p>
<p class="rvps5"><span class="rvts6">This is a quick way to implement one point touch input in your game.</span></p>
<p class="rvps5"><span class="rvts6">Disabled by default.</span></p>
<p class="rvps2"><span class="rvts26"><br/></span></p>
<p class="rvps2"><span class="rvts20">void disableTouchTranslation();</span></p>
<p class="rvps5"><span class="rvts6">Disables the touch translation and tells the engine to handle mouse inputs as a mouse again.</span></p>
<p class="rvps2"><span class="rvts26"><br/></span></p>
<p class="rvps2"><span class="rvts20">void setNoTouchPosition(int x,int y);</span></p>
<p class="rvps5"><span class="rvts6">With this function you can set where the mouse cursor goes when touch is released.</span></p>
<p class="rvps5"><span class="rvts6">Useful for preventing hovering effects happening where the screen was touched last.</span></p>
<p class="rvps2"><span class="rvts26"><br/></span></p>
<p class="rvps2"><span class="rvts20">void unsetNoTouchPosition();</span></p>
<p class="rvps5"><span class="rvts6">Disables mouse cursor repositioning when touch is released.</span></p>
<p class="rvps5"><span class="rvts6"><br/></span></p>
<div class="rvps2"><table width="100%" border="1" cellpadding="1" cellspacing="2" style="border-color: #000000; border-style: solid; border-spacing: 2px;">
<tr valign="top">
<td style="border-color: #000000; border-style: solid; padding: 1px;"><p class="rvps2"><span class="rvts18"><br/></span></p>
<p class="rvps2"><span class="rvts21">enableTouchTranslation(); &nbsp; &nbsp; &nbsp;//enable touch mouse translation</span></p>
<p class="rvps2"><span class="rvts21">disableMouseCursor(); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;/*hide the mouse cursor for our touch device</span></p>
<p class="rvps2"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; some operating systems hide it upon touch</span></p>
<p class="rvps2"><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; and display it when mouse is used instead*/</span></p>
<p class="rvps2"><span class="rvts21">setNoTouchPosition(-1,-1); &nbsp; &nbsp; //set the cursor barely off scene when touch is released</span></p>
<p class="rvps2"><span class="rvts18"><br/></span></p>
</td>
</tr>
</table>
</div>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p></p>
<p class="rvps4"><span class="rvts12">Created with the Personal Edition of HelpNDoc: </span><a class="rvts13" href="http://www.helpndoc.com/feature-tour">Easily create EBooks</a></p>
</div>
	
	<div id="topic_footer">

			<div id="topic_footer_content">
				Copyright &copy; 2016 by Slask &amp; Zas. All Rights Reserved.</div>
		</div>
	</body>
	
</html>

