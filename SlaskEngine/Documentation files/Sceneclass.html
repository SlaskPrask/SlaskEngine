<html>
	
<head>
	<title>Scene class</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="generator" content="HelpNDoc Personal Edition 4.9.2.132">
	<meta name="keywords" content="">
	
	<link type="text/css" rel="stylesheet" media="all" href="css/reset.css" />
	<link type="text/css" rel="stylesheet" media="all" href="css/base.css" />
	<link type="text/css" rel="stylesheet" media="all" href="css/hnd.css" />
	<!--[if lte IE 8]>
		<link type="text/css" rel="stylesheet" media="all" href="css/ielte8.css" />
	<![endif]-->
	<style type="text/css">
		#topic_header
		{
			background-color: #EFEFEF;
		}
	</style>
	<script type="text/javascript" src="js/jquery.min.js"></script>
	<script type="text/javascript" src="js/hnd.js"></script>
	<script type="text/javascript">
		$(document).ready(function()
		{
			if (top.frames.length == 0)
			{
				var sTopicUrl = top.location.href.substring(top.location.href.lastIndexOf("/") + 1, top.location.href.length);
				top.location.href = "SlaskEngine API Documentation.html?" + sTopicUrl;
			}
			else
			{
				var bTocSelected = false;
				(function waitForTOC()
				{
					if (top && top.FrameTOC && top.FrameTOC.SelectTocItem)
					{
						top.FrameTOC.SelectTocItem("Sceneclass");
						bTocSelected = true;
					}
					if (!bTocSelected) setTimeout(function() { waitForTOC(); }, 300);
				})();
			}
		});
	</script>
	
	</head>

<body>

<div id="topic_header">
			<div id="topic_header_content">
				<h1 id="topic_header_text">Scene class</h1>
				
				<div id="topic_breadcrumb">
					<a href="VirtualClasses.html">Virtual Classes</a> &rsaquo;&rsaquo; </div>
				</div>
			<div id="topic_header_nav">
				<a href="VirtualClasses.html"><img src="img/arrow_up.png" alt="Parent"/></a>
				
				<a href="Objectclass.html"><img src="img/arrow_left.png" alt="Previous"/></a>
				
				<a href="PredefinedClasses.html"><img src="img/arrow_right.png" alt="Next"/></a>
				
				</div>
			<div class="clear"></div>
		</div>
	<div id="topic_content">
		
<p></p>
<p class="rvps2"><span class="rvts19">class Scene</span></p>
<p class="rvps2"><span class="rvts22"><br/></span></p>
<p class="rvps2"><span class="rvts6">Parent class for creating custom game scenes. Game scenes should always inherit this class to let the engine handle them as scenes.</span></p>
<p class="rvps2"><span class="rvts6">Do not call </span><span class="rvts18">delete</span><span class="rvts6"> on members of the scene class to not disturb the engine. To switch scenes simply create a new instance of a child scene class.</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<div class="rvps2"><table width="100%" border="1" cellpadding="1" cellspacing="2" style="border-color: #000000; border-style: solid; border-spacing: 2px;">
<tr valign="top">
<td style="border-color: #000000; border-style: solid; padding: 1px;"><p class="rvps2"><span class="rvts18"><br/></span></p>
<p class="rvps2"><span class="rvts18">#include &lt;Slask.h&gt;</span></p>
<p class="rvps2"><span class="rvts18"><br/></span></p>
<p class="rvps2"><span class="rvts21">class World:public Scene</span></p>
<p class="rvps2"><span class="rvts18">{</span></p>
<p class="rvps2"><span class="rvts18"> &nbsp; &nbsp;</span><span class="rvts21">SLASKSCENE</span></p>
<p class="rvps2"><span class="rvts18"> &nbsp; &nbsp;</span></p>
<p class="rvps2"><span class="rvts18"> &nbsp; &nbsp;/*user variables and methods*/</span></p>
<p class="rvps2"><span class="rvts18">}</span></p>
<p class="rvps2"><span class="rvts21"><br/></span></p>
</td>
</tr>
</table>
</div>
<p class="rvps2"><span class="rvts20"><br/></span></p>
<p class="rvps2"><span class="rvts25">Making scenes work with the engine</span></p>
<p class="rvps2"><span class="rvts6">Example class </span><span class="rvts29">World</span><span class="rvts6">.</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts20">class </span><span class="rvts28">World</span><span class="rvts20">:public Scene;</span></p>
<p class="rvps5"><span class="rvts6">Parent class </span><span class="rvts18">Scene</span><span class="rvts6"> needs to be used for game scenes.</span></p>
<p class="rvps2"><span class="rvts25"><br/></span></p>
<p class="rvps2"><span class="rvts20">SLASKSCENE</span></p>
<p class="rvps5"><span class="rvts18">SLASKSCENE</span><span class="rvts6"> should be inserted at the top of all game scenes.</span></p>
<p class="rvps5"><span class="rvts6">This takes care of implementing necessary functionality in the engine for using game scenes.</span></p>
<p class="rvps2"><span class="rvts25"><br/></span></p>
<p class="rvps2"><span class="rvts28">World</span><span class="rvts20">::</span><span class="rvts28">World</span><span class="rvts20">();</span></p>
<p class="rvps5"><span class="rvts6">The constructor should contain the code for switching to this scene.</span></p>
<p class="rvps2"><span class="rvts25"><br/></span></p>
<p class="rvps2"><span class="rvts28">World</span><span class="rvts20">::~</span><span class="rvts28">World</span><span class="rvts20">();</span></p>
<p class="rvps5"><span class="rvts6">The destructor should contain the code for exiting this scene before the new scene is loaded.</span></p>
<p class="rvps5"><span class="rvts6">This will automatically call </span><span class="rvts18">destroy()</span><span class="rvts6"> on all objects that aren't set as persistent.</span></p>
<p class="rvps2"><span class="rvts25"><br/></span></p>
<p class="rvps2"><span class="rvts27">Switching scenes or setting the first scene</span><span class="rvts27"> &nbsp; &nbsp; &nbsp; &nbsp;</span></p>
<p class="rvps2"><span class="rvts20">new </span><span class="rvts28">World</span><span class="rvts20">();</span></p>
<p class="rvps5"><span class="rvts6">Creates an instance of this scene. Simply creating a new instance will tell the engine to unload the previous scene and it's objects (excluding persistent objects) and set this scene as active. It is not necessary to store this pointer and a </span><span class="rvts18">Scene*</span><span class="rvts6"> pointer may be obtained with getScene() if needed. Never call </span><span class="rvts18">delete</span><span class="rvts6"> on a scene. The engine will take care of that when you create a new scene instance. One only scene can be active at a time.</span></p>
<p class="rvps5"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts27">Implementing custom scene functionality and code</span></p>
<p class="rvps2"><span class="rvts20">virtual void run();</span></p>
<p class="rvps5"><span class="rvts6">Run function can be implemented in the scene.</span></p>
<p class="rvps5"><span class="rvts18">run()</span><span class="rvts6"> is called by the engine at the beginning of each game frame and should contain the scene's running code.</span></p>
<p class="rvps5"><span class="rvts6">The </span><span class="rvts18">run</span><span class="rvts6"> function should not contain any code for drawing the visuals, this should be done through objects.</span></p>
<p class="rvps2"><span class="rvts25"><br/></span></p>
<p class="rvps2"><span class="rvts25">Identifying scenes</span></p>
<p class="rvps2"><span class="rvts6">Scene id numbers can be obtained from the class or instances of the class. These id numbers can be compared to identify the current scene.</span></p>
<p class="rvps2"><span class="rvts6">Id numbers may change every time the program is started again so it is not suggested to store them outside the running application.</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts20">static unsigned int sceneId();</span></p>
<p class="rvps5"><span class="rvts6">Returns the engine id for this scene class.</span></p>
<p class="rvps2"><span class="rvts26"><br/></span></p>
<p class="rvps2"><span class="rvts20">unsigned int id();</span></p>
<p class="rvps5"><span class="rvts6">Returns the engine id for the scene class of this scene.</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<div class="rvps2"><table width="100%" border="1" cellpadding="1" cellspacing="2" style="border-color: #000000; border-style: solid; border-spacing: 2px;">
<tr valign="top">
<td style="border-color: #000000; border-style: solid; padding: 1px;"><p class="rvps2"><span class="rvts18"><br/></span></p>
<p class="rvps2"><span class="rvts21">Scene *currentScene=getScene();</span></p>
<p class="rvps2"><span class="rvts21">if (scene-&gt;id()==World::sceneId())</span></p>
<p class="rvps2"><span class="rvts18">{</span></p>
<p class="rvps2"><span class="rvts18"> &nbsp; &nbsp;//the current scene is World</span></p>
<p class="rvps2"><span class="rvts18"> &nbsp; &nbsp;World *world=(World*)currentScene;</span></p>
<p class="rvps2"><span class="rvts18"> &nbsp; &nbsp;world-&gt;spawnFinalBoss();</span></p>
<p class="rvps2"><span class="rvts18">}</span></p>
<p class="rvps2"><span class="rvts21"><br/></span></p>
</td>
</tr>
</table>
</div>
<p class="rvps2"><span class="rvts25"><br/></span></p>
<p class="rvps2"><span class="rvts25">Provided members and methods</span></p>
<p class="rvps2"><span class="rvts25"><br/></span></p>
<p class="rvps2"><span class="rvts27">Public members</span></p>
<p class="rvps2"><span class="rvts20">double width;</span></p>
<p class="rvps5"><span class="rvts6">The scene's width.</span></p>
<p class="rvps2"><span class="rvts20"><br/></span></p>
<p class="rvps2"><span class="rvts20">double height;</span></p>
<p class="rvps5"><span class="rvts6">The scene's height.</span></p>
<p class="rvps2"><span class="rvts25"><br/></span></p>
<p class="rvps2"><span class="rvts27">Changing the scene's properties</span></p>
<p class="rvps2"><span class="rvts20"><br/></span></p>
<p class="rvps2"><span class="rvts20">void setSize(w,h);</span></p>
<p class="rvps5"><span class="rvts6">Change the scene's size. </span><span class="rvts18">width</span><span class="rvts6"> and </span><span class="rvts18">height</span><span class="rvts6"> can also be changed directly.</span></p>
<p class="rvps2"><span class="rvts25"><br/></span></p>
<p></p>
<p class="rvps4"><span class="rvts12">Created with the Personal Edition of HelpNDoc: </span><a class="rvts13" href="http://www.helpndoc.com/feature-tour">Easily create EPub books</a></p>
</div>
	
	<div id="topic_footer">

			<div id="topic_footer_content">
				Copyright &copy; 2016 by Slask &amp; Zas. All Rights Reserved.</div>
		</div>
	</body>
	
</html>

